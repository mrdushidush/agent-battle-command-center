# =============================================================================
# Agent Battle Command Center - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values:
#   cp .env.example .env
#
# Generate secure keys with:
#   openssl rand -hex 32
# =============================================================================

# --- Database ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_generate_with_openssl_rand_hex_32
POSTGRES_DB=abcc
# IMPORTANT: The password in DATABASE_URL must match POSTGRES_PASSWORD above
DATABASE_URL="postgresql://postgres:CHANGE_ME_generate_with_openssl_rand_hex_32@localhost:5432/abcc?schema=public"

# --- API Server ---
API_PORT=3001
API_HOST=0.0.0.0
# Generate with: openssl rand -hex 32 (minimum 32 characters)
API_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# --- Rate Limiting ---
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_SKIP_SUCCESSFUL=false

# --- Agents Service ---
AGENTS_URL=http://localhost:8000
AGENTS_PORT=8000

# --- UI ---
VITE_API_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001
# IMPORTANT: Must be the SAME value as API_KEY above
VITE_API_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32

# --- LLM Configuration ---
# Required for Claude models (get yours at https://console.anthropic.com)
ANTHROPIC_API_KEY=sk-ant-api03-CHANGE_ME

# Ollama (local LLM)
OLLAMA_URL=http://localhost:11434
# IMPORTANT: Required for Docker - must match OLLAMA_URL but use Docker service name
OLLAMA_API_BASE=http://ollama:11434

# --- Model Settings ---
DEFAULT_MODEL=claude-sonnet-4-5-20250929
FALLBACK_TO_OLLAMA=true
OLLAMA_MODEL=qwen2.5-coder:7b

# --- Human Escalation ---
HUMAN_TIMEOUT_MINUTES=30

# --- JWT (for MCP Gateway) ---
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32

# --- MCP Gateway (OPTIONAL - disabled by default) ---
# To enable: docker compose --profile mcp up
USE_MCP=false
MCP_GATEWAY_URL=http://localhost:8001
REDIS_URL=redis://localhost:6379/0

# MCP Sync Configuration
SYNC_FROM_POSTGRES_INTERVAL=1.0
SYNC_TO_POSTGRES_INTERVAL=5.0
TASK_CACHE_TTL=3600
FILE_LOCK_TIMEOUT=60
